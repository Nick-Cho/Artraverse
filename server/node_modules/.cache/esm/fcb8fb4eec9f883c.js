let express,formidable,requireSignIn,canEditPost,createPost,uploadImage,postsByUser,userPost,updatePost,deletePost,newsFeed,likePost,unlikePost,addComment,removeComment,totalPosts;_ec9‍.w("express",[["default",["express"],function(v){express=v}]]);_ec9‍.w("express-formidable",[["default",["formidable"],function(v){formidable=v}]]);_ec9‍.w("../middlewares",[["requireSignIn",["requireSignIn"],function(v){requireSignIn=v}],["canEditPost",["canEditPost"],function(v){canEditPost=v}]]);_ec9‍.w("../controllers/post.js",[["createPost",["createPost"],function(v){createPost=v}],["uploadImage",["uploadImage"],function(v){uploadImage=v}],["postsByUser",["postsByUser"],function(v){postsByUser=v}],["userPost",["userPost"],function(v){userPost=v}],["updatePost",["updatePost"],function(v){updatePost=v}],["deletePost",["deletePost"],function(v){deletePost=v}],["newsFeed",["newsFeed"],function(v){newsFeed=v}],["likePost",["likePost"],function(v){likePost=v}],["unlikePost",["unlikePost"],function(v){unlikePost=v}],["addComment",["addComment"],function(v){addComment=v}],["removeComment",["removeComment"],function(v){removeComment=v}],["totalPosts",["totalPosts"],function(v){totalPosts=v}]]);


const router = express.Router();

//middleware

//Controllers 















router.post('/create-post',requireSignIn, createPost);
router.post('/upload-image',requireSignIn, formidable({maxFileSize: 5*1024*1024}), uploadImage);
//posts uploaded by the user
router.get('/user-posts', requireSignIn, postsByUser);
router.get('/user-post/:_id', requireSignIn, userPost)
router.put('/update-post/:_id', requireSignIn, canEditPost, updatePost)
router.delete('/delete-post/:_id', requireSignIn, canEditPost, deletePost)

router.get('/news-feed', requireSignIn, newsFeed);

router.put('/liked-post', requireSignIn, likePost);
router.put('/unliked-post', requireSignIn, unlikePost)

router.put('/add-comment', requireSignIn, addComment);
router.put('/remove-comment', requireSignIn, removeComment);

router.get('/total-posts', totalPosts);

module.exports = router;
